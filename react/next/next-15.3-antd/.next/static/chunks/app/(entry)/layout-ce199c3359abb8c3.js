(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{6229:()=>{},8365:(e,o,t)=>{"use strict";t.d(o,{default:()=>j});var s=t(95155),l=t(12115),r=t(66766),a=t(96194),i=t(79336),c=t(45841),n=t(83315),d=t(91573),m=t(38753),u=t(33814),A=t(31372),h=t(46619),x=t(4931),k=t(35658),g=t(37720);t(6229);let N=function(e){let{onClose:o}=e,{colorPrimary:t,setColorPrimary:l}=(0,g.D)();return(0,s.jsx)(a.A,{className:"M-themeModal",open:!0,title:"主题色",onCancel:()=>{o()},maskClosable:!1,footer:null,children:(0,s.jsx)("div",{className:"colors-con",children:k.c.customColorPrimarys&&k.c.customColorPrimarys.map((e,o)=>(0,s.jsx)("div",{className:"theme-color",style:{backgroundColor:e},onClick:()=>{l(e)},children:t===e&&(0,s.jsx)(x.A,{style:{fontSize:28,color:"#fff"}})},o))})})};var f=t(19635),S=t(93714);function j(){let{dark:e,setDark:o}=(0,g.D)(),[t,x]=(0,l.useState)(!1),[j,p]=a.A.useModal(),[v,y]=(0,l.useState)(null);(0,l.useEffect)(()=>{y((0,f.dR)())},[]);let C=[{label:"退出登录",key:"exit",icon:(0,s.jsx)(d.A,{}),onClick:()=>{console.log("退出登录"),j.confirm({title:"确定要退出系统么？",okText:"退出",onOk:()=>{(0,f.ri)()}})}}];return(0,s.jsxs)(i.A,{className:"M-header",children:[(0,s.jsxs)("div",{className:"header-wrapper",children:[(0,s.jsxs)("div",{className:"logo-con",children:[(0,s.jsx)(r.default,{src:S.A,alt:"",width:32,height:32}),(0,s.jsx)("span",{className:"logo-text",children:"Next.js APP"})]}),(0,s.jsxs)("div",{className:"header-con",children:[e?(0,s.jsx)(c.Ay,{icon:(0,s.jsx)(m.A,{}),shape:"circle",onClick:()=>{o(!1)}}):(0,s.jsx)(c.Ay,{icon:(0,s.jsx)(u.A,{}),shape:"circle",onClick:()=>{o(!0)}}),k.c.customColorPrimarys&&k.c.customColorPrimarys.length>0&&(0,s.jsx)(c.Ay,{icon:(0,s.jsx)(A.A,{}),shape:"circle",onClick:()=>{x(!0)}}),v&&(0,s.jsx)(n.A,{menu:{items:C},children:(0,s.jsxs)("div",{className:"user-menu",children:[(0,s.jsx)("span",{children:v.nickname}),(0,s.jsx)(h.A,{className:"arrow"})]})})]})]}),t&&(0,s.jsx)(N,{onClose:()=>{x(!1)}}),p]})}t(94935)},19635:(e,o,t)=>{"use strict";t.d(o,{dR:()=>d,ri:()=>m,yH:()=>n});var s=t(23464),l=t(96194),r=t(35658);Promise.all([t.e(1421),t.e(9303)]).then(t.bind(t,79303));let a="/api_client/";a="/api_client/";let i=r.c.SESSION_LOGIN_INFO,c={OK:200},n={signIn:e=>{s.A.post(a+"login",e.data).then(o=>{let t=o.data;e.done&&e.done(t),t.code===c.OK?(window.localStorage.setItem(i,JSON.stringify({uid:t.data.loginUid,nickname:t.data.nickname,token:t.data.token})),document.cookie="uid=".concat(t.data.loginUid,"; path=/"),document.cookie="token=".concat(t.data.token,"; path=/"),e.success&&e.success(t)):e.fail&&e.fail(t)}).catch(()=>{e.done&&e.done(),e.fail&&e.fail({message:"网络连接异常，请稍后再试"}),l.A.error({title:"登录失败"})})},signOut:()=>{let{uid:e,token:o}=d(),t={method:"post",url:a+"logout",headers:{loginUid:e,"access-token":o}};(0,s.A)(t).then(()=>{m()}).catch(()=>{m()})}};function d(){let e=window.localStorage.getItem(i);return e?JSON.parse(e):{uid:null,nickname:null,token:null}}function m(){window.localStorage.removeItem(i),document.cookie="uid=; path=/; Max-Age=0",document.cookie="token=; path=/; Max-Age=0",window.location.href="/login"}},24444:(e,o,t)=>{"use strict";t.d(o,{default:()=>S});var s=t(95155),l=t(12115),r=t(35695),a=t(86253),i=t(70445),c=t(57845),n=t(83803),d=t(37720),m=t(35658),u=t(98902),A=t(50274),h=t(60779),x=t(38962);t(46503);let k=a.A.Sider,{darkAlgorithm:g,defaultAlgorithm:N}=i.A,{useToken:f}=i.A;function S(){let{dark:e}=(0,d.D)(),o=N;"dark"===m.c.siderTheme?o=g:(m.c.siderTheme="theme",o=e?g:N);let{token:t}=f(),a=(0,r.usePathname)(),i=(0,r.useRouter)(),[S,j]=(0,l.useState)(!1),p=[{label:"首页",key:"/home",icon:(0,s.jsx)(u.A,{})},{label:"关于我们",key:"/about",icon:(0,s.jsx)(A.A,{})}];return(0,s.jsx)(c.Ay,{theme:{algorithm:o},children:(0,s.jsx)(k,{className:"M-sider",trigger:null,collapsible:!0,collapsed:S,collapsedWidth:49,width:200,style:{backgroundColor:t.colorBgContainer,borderColor:t.colorBorderSecondary},children:(0,s.jsxs)("div",{className:"sider-main",children:[(0,s.jsx)(n.A,{mode:"inline",selectedKeys:[a],items:p,className:"sider-menu",onClick:e=>{i.push(e.key)}}),(0,s.jsx)("div",{className:"sider-footer",onClick:()=>{j(!S)},style:{color:t.colorTextBase,borderTopColor:t.colorBorder},children:S?(0,s.jsx)(h.A,{}):(0,s.jsx)(x.A,{})})]})})})}},35658:(e,o,t)=>{"use strict";t.d(o,{c:()=>s});let s={initTheme:{dark:!1,colorPrimary:null},customColorPrimarys:["#1677ff","#f5222d","#fa8c16","#722ed1","#13c2c2","#52c41a"],siderTheme:"theme",SESSION_LOGIN_INFO:"nextjsLoginInfo",SESSION_LOGIN_THEME:"nextjsLoginTheme"}},37720:(e,o,t)=>{"use strict";t.d(o,{D:()=>c,ThemeProvider:()=>i});var s=t(95155),l=t(12115),r=t(35658);let a=(0,l.createContext)({dark:!1,setDark:()=>{},colorPrimary:null,setColorPrimary:()=>{}}),i=e=>{let{children:o}=e,[t,i]=(0,l.useState)(!1),[c,n]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=window.localStorage.getItem(r.c.SESSION_LOGIN_THEME),o=e?JSON.parse(e):{},t=o.dark?o.dark:r.c.initTheme.dark,s=o.colorPrimary?o.colorPrimary:r.c.initTheme.colorPrimary;i(t),n(s)},[]),(0,l.useEffect)(()=>{window.localStorage.setItem(r.c.SESSION_LOGIN_THEME,JSON.stringify({dark:t,colorPrimary:c})),t?document.body.setAttribute("theme-mode","dark"):document.body.setAttribute("theme-mode","light")},[t,c]),(0,s.jsx)(a.Provider,{value:{dark:t,setDark:i,colorPrimary:c,setColorPrimary:n},children:o})},c=()=>(0,l.useContext)(a)},46503:()=>{},81743:(e,o,t)=>{Promise.resolve().then(t.bind(t,84818)),Promise.resolve().then(t.bind(t,8365)),Promise.resolve().then(t.bind(t,24444))},84818:(e,o,t)=>{"use strict";t.d(o,{App:()=>s.A,Layout:()=>l.A});var s=t(89331),l=t(86253)},93714:(e,o,t)=>{"use strict";t.d(o,{A:()=>s});let s={src:"/_next/static/media/logo.7a30c1ce.png",height:256,width:256,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAQlBMVEVHuOc/r99Svus7suL9+vap2+8/teZLuudIu+pMaXGw2OWv2OWo5v7O7fk/vvPO4+lSvOf///+l2vDZ3N3d1NDc09BPsRNuAAAADHRSTlP0MOy0/P70LrIA+flyNeYJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPklEQVR4nAXBCQKAIAgAwVUxsMCz/v/VZmhqYNpQvFZHsf6McXeDGWvFhGt/57z7wlxExI2UPcJzommBou0HUQMCMRdrVV4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},94935:()=>{}},e=>{var o=o=>e(e.s=o);e.O(0,[8150,3047,5431,9596,7543,9324,5841,9336,9315,4591,1484,9177,8441,1684,7358],()=>o(81743)),_N_E=e.O()}]);